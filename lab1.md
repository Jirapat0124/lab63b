# การทดลองที่1 การเขียนโปรแกรมเพื่อรันบนไมโครคอนโทรเลอร์

## วัตถุประสงค์
* เพื่อศึกษาวิธีการใช้งานไมโครคอนโทรเลอร์
* เข้าใจการลงโปรแกรมเบื้องต้น

## อุปกรณ์ที่ใช้
1.  สาย USB
2.  ซีเรียล
3.  ไมโครคอนโทรเลอร์(ESSP-01)
4.  คอมพิวเตอร์

## ศึกษาข้อมูลเบื้องต้น
* [run example 01](https://youtu.be/NLIUsWLEpmg)


## วิธีการทำการทดลอง
1. ต่อไมโครคอนโทรเลอร์ด้วยซีเรียล เชื่อมกับสายUSB
2. เปิด command prompt เข้าไดรฟ์ D จากคำสั่ง **D:**
3. เข้าโปรแกรมตัวอย่างโดยพิมพ์คำสั่ง **cd pattani**
4. เลือกโปรแกรมคำสั่ง **cd 01_Serial-Moniter** 
```c
#include <Arduino.h>

int cnt = 0;

void setup()
{
	Serial.begin(115200);
}

void loop()
{
	cnt++;
	Serial.printf("PATTANI :%d\n",cnt);
	delay(1000);
}
```
5. พิม vi src/maim.cpp เพื่อrunโปรแกรม
6. พิม vi platformip.ini จะสามารถเช็คสเป็คของบอร์ดได้
```; IOT for KIDS
;
; By Dr.Choompol Boonmee
; 

[env:exercise01]
platform = nordicnrf51
board = NRF51822
framework = Mbed	
board_build.flash_mode = dout

upload_port = /dev/cu.usbserial-1420
;upload_port = COM3

monitor_port = /dev/cu.usbserial-1420
;monitor_port = COM3
monitor_speed = 115200
```
7. อัพโหลดโปรแกรมลงในไมโครคอนโทรนเลอร์ด้วยคำสั่ง **pio run -t upload** พร้อมทั้งกดปุ่มสีดำค้างเพื่อให้ดาวโหลด และกดปุ่ทสีแดง1ครั้งเพื่อรีเซ็ทคำสั่งเก่า
8. จากนั้นใช้คำสั่ง**pio device monitor** เพื่อดูผลลัพ์บนคอมพิวเตอร์


## การบันทึกผลการทดลอง
ทดลองแล้วได้รูปดังนี้ซึ่งทุกๆ1วิาทีจะนับ+1 สามารถกดปุ่มสีแดงเพื่อรีเซ็ทได้
![image](https://i.imgur.com/qVYlVLv.jpg)

## อภิปรายผลการทดลอง
 จากการทดลองการเขียนโปรแกรมลงในไมโครคอนโทรเลอร์ จะสามารถนับวินาทีทุก 1 วินาทีได้ และสามารภresetค่าได้ จากการกดปุ่มสีแดง

## คำถามหลังการทดลอง
เราสามารถใช้อุปกรณ์ตัวอื่นแทนไมโครคอนโทรเลอร์ได้หรทอไม่
* ได้ แต่ต้องเป็นอุปกรณ์ที่รองรับกับชุดคำสั่งซึ่งภาษาที่ใช้เป็นภาษาC
